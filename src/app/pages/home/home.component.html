<div class="title">
  <h1>Olympic Games Starter</h1>
</div>

<div *ngIf="statistics$ | async as stats">
  <div class="title-container">
    <p>Medals per Country</p>
  </div>

  <div class="stats-container">
    <p>
      Numbers of JOs <span>{{ stats.numberOfJOs }}</span>
    </p>
    <p>
      Number of countries <span>{{ stats.numberOfCountries }}</span>
    </p>
  </div>
</div>

<div *ngIf="pieData$ | async as pieData">
  <div class="pie-chart">
    <ngx-charts-pie-chart
      [results]="pieData"
      [labels]="true"
      [doughnut]="false"
      [explodeSlices]="false"
      [gradient]="false"
      [animations]="false"
      (select)="onSelectCountry($event)"
    >
      <ng-template #tooltipTemplate let-model="model">
        <div class="custom-tooltip">
          <p>{{ model.name }}</p>
          <p class="medal-value">
            <svg
              width="16"
              height="16"
              viewBox="0 0 512 512"
              fill="none"
              stroke="white"
              stroke-width="20"
            >
              <path
                d="M256 416c-61.856 0-112-50.144-112-112s50.144-112 112-112 112 50.144 112 112-50.144 112-112 112z"
              />
              <circle cx="256" cy="304" r="80" />
              <path d="M256 336l-20 30 35-10 35 10-20-30-15-46h-30z" />
              <path d="M208 96L144 16h64l48 144M304 96L368 16h-64l-48 144" />
            </svg>
            {{ model.value }}
          </p>
        </div>
      </ng-template>
    </ngx-charts-pie-chart>
  </div>
  <!--
<hr />
<p>{{ (olympics$ | async)?.length }} data loaded</p>-->
</div>
